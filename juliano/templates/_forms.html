
{% macro render_field(field) %}
<dt>{{ field.label }}</dt>
<dd>
  {% if field.entries or field.form %}
  {{ render_form_fields(field) }}
  {% else %}
  <div>
    {{ field }}
    {% for e in field.errors %}
    <p style="color:red">{{ e }}</p>
    {% endfor %}
  </div>
  {% endif %}
</dd>
{% endmacro %}


{% macro render_form_fields(form) %}
<dl>
  {% for field in form %}
  {{ render_field(field) }}
  {% endfor %}
</dl>
{% endmacro %}


{% macro render_form(form, method="POST", submit_text="Speichern") %}
<form action="" method="{{ method }}">
  {% if method == "POST" %}
  <input type="hidden" name="csrf_token" value="{{ csrf_token() }}">
  {% endif %}
  {{ render_form_fields(form) }}
  <p>
    <input type="Submit" value="{{ submit_text }}">
  </p>
</form>
{% endmacro %}

{% macro filter_form(form, method="GET", submit_text="Suchen") %}
{{ render_form(form, method=method, submit_text=submit_text) }}
{% endmacro %}
